<!DOCTYPE html>
<html>

<head>
    <title>Calculator</title>
    <script>
        let operands = []
            , values = []
            , result = 0
        const calculate = () => {
            console.log('values ', values)
            const multiplicationTotal = values.reduce((total, currentValue, index) => {
                if (currentValue === '*') {
                    const [a, multiplication, b] = total.slice(index - 1, index + 2),
                        left = total.slice(0, index - 1),
                        right = total.slice(index + 2)
                    total = [...left, parseInt(a) * parseInt(b), ...right]
                }
                else total
                return total
            }, values)
                , divisionTotal = multiplicationTotal.reduce((total, currentValue, index) => {
                    if (currentValue === '/') {
                        const [a, division, b] = total.slice(index - 1, index + 2),
                            left = total.slice(0, index - 1),
                            right = total.slice(index + 2)
                        total = [...left, b !== '0' ? parseFloat(a) / parseFloat(b) : undefined, ...right]
                    }
                    else total
                    return total
                }, multiplicationTotal)
                , additionTotal = divisionTotal.reduce((total, currentValue, index) => {
                    if (currentValue === '+') {
                        const [a, addition, b] = total.slice(index - 1, index + 2),
                            left = total.slice(0, index - 1),
                            right = total.slice(index + 2)
                        total = [...left, parseFloat(a) + parseFloat(b), ...right]
                    }
                    else total
                    return total
                }, divisionTotal)
                , subtractionTotal = additionTotal.reduce((total, currentValue, index) => {
                    if (currentValue === '-') {
                        const [a, subtraction, b] = total.slice(index - 1, index + 2),
                            left = total.slice(0, index - 1),
                            right = total.slice(index + 2)
                        total = [...left, parseInt(a) - parseInt(b), ...right]
                    }
                    else total
                    return total
                }, additionTotal)
            console.log('multiplicationTotal ', multiplicationTotal)
            console.log('divisionTotal ', divisionTotal)
            console.log('additionTotal ', additionTotal)
            console.log('subtractionTotal ', subtractionTotal)
            result = subtractionTotal[0]
            values = []
            document.getElementById('result').innerText = result
        }, operandInput = operand => {
            operands.push(operand)
            document.getElementById('result').innerText = operands.join("")
        }
    </script>
</head>

<body>
    <div id=result style=color:white;background-color:black;width:200px;></div>
    <div style=display:flex;>
        <ul style=list-style-type:none>
            <li>
                <span>
                    <button onclick=operandInput(7)>7</button>
                    <button onclick=operandInput(8)>8</button>
                    <button onclick=operandInput(9)>9</button>
                </span>
            </li>

            <li>
                <span>
                    <button onclick=operandInput(4)>4</button>
                    <button onclick=operandInput(5)>5</button>
                    <button onclick=operandInput(6)>6</button>
                </span>
            </li>

            <li>
                <span>
                    <button onclick=operandInput(1)>1</button>
                    <button onclick=operandInput(2)>2</button>
                    <button onclick=operandInput(3)>3</button>
                </span>
            </li>

            <li>
                <span>
                    <button onclick=operandInput(0) style=width:120px;>0</button>
                    <button>.</button>
                </span>
            </li>
        </ul>

        <ul style=list-style-type:none;>
            <li><button onclick=' values.push(operands.join(""), `/`); operands=[];'
                    style=background-color:coral;>/</button>
            </li>
            <li><button onclick='values.push(operands.join(""), `*`); operands=[];'
                    style=background-color:coral;>x</button></li>
            <li><button onclick='values.push(operands.join(""), `-`); operands=[];'
                    style=background-color:coral;>-</button></li>
            <li><button onclick='values.push(operands.join(""), `+`); operands=[];'
                    style=background-color:coral;>+</button></li>
            <li><button onclick='values.push(operands.join("")); calculate(); operands=[];'
                    style=background-color:coral;>=</button></li>
        </ul>

    </div>

</body>

</html>