<!DOCTYPE html>
<html>

<head>
    <title>Calculator</title>
    <script>
        let operands = []
            , values = []
            , result = 0
        const multiplication = () => {
            const multiplicationTotal = values.reduce((total, currentValue, index) => {
                const [a, multiplication, b] = total.slice(index - 1, index + 2)
                if (currentValue === '*' && b !== undefined) {
                    const left = total.slice(0, index - 1),
                        right = total.slice(index + 2)
                    total = [...left, parseInt(a) * parseInt(b), ...right]
                }
                else total
                return total
            }, values)
            values = multiplicationTotal
            result = multiplicationTotal.length > 1 ? multiplicationTotal[multiplicationTotal.length - 2] : multiplicationTotal[0]
            console.log('result ', result)
            console.log('result.length ', result.length)
            result.toString().length > 10 ? result = 'Error' : result
            document.getElementById('result').innerText = result
            return multiplicationTotal
        }
            , division = () => {
                divisionTotal = values.reduce((total, currentValue, index) => {
                    const [a, division, b] = total.slice(index - 1, index + 2)
                    if (currentValue === '/' && b !== undefined) {
                        const left = total.slice(0, index - 1),
                            right = total.slice(index + 2)
                        total = [...left, b !== '0' ? parseFloat(a) / parseFloat(b) : undefined, ...right]
                    }
                    else total
                    return total
                }, values)
                values = divisionTotal
                result = divisionTotal.length > 1 ? divisionTotal[divisionTotal.length - 2] : divisionTotal[0]
                result.toString().length > 10 ? result = 'Error' : result
                document.getElementById('result').innerText = result
                return divisionTotal
            }
            , addition = () => {
                const additionTotal = values.reduce((total, currentValue, index) => {
                    const [a, addition, b] = total.slice(index - 1, index + 2)
                    if (currentValue === '+' && b !== undefined) {
                        const left = total.slice(0, index - 1),
                            right = total.slice(index + 2)
                        total = [...left, parseFloat(a) + parseFloat(b), ...right]
                    }
                    else total
                    return total
                }, values)
                values = additionTotal
                result = additionTotal.length > 1 ? additionTotal[additionTotal.length - 2] : additionTotal[0]
                result.toString().length > 10 ? result = 'Error' : result
                document.getElementById('result').innerText = result
                return additionTotal
            }
            , subtraction = () => {
                subtractionTotal = values.reduce((total, currentValue, index) => {
                    const [a, subtraction, b] = total.slice(index - 1, index + 2)
                    if (currentValue === '-' && b !== undefined) {
                        const left = total.slice(0, index - 1),
                            right = total.slice(index + 2)
                        total = [...left, parseInt(a) - parseInt(b), ...right]
                    }
                    else total
                    return total
                }, values)
                values = subtractionTotal
                result = subtractionTotal[0]
                result.toString().length > 10 ? result = 'Error' : result
                document.getElementById('result').innerText = result
            }, operandInput = operand => {
                operands.push(operand)
                document.getElementById('result').innerText = operands.join("")
            }
    </script>
</head>

<body>
    <div id=result style=color:white;background-color:black;width:200px;></div>
    <div style=display:flex;>
        <ul style=list-style-type:none>
            <li>
                <span>
                    <button onclick=operandInput(7)>7</button>
                    <button onclick=operandInput(8)>8</button>
                    <button onclick=operandInput(9)>9</button>
                </span>
            </li>

            <li>
                <span>
                    <button onclick=operandInput(4)>4</button>
                    <button onclick=operandInput(5)>5</button>
                    <button onclick=operandInput(6)>6</button>
                </span>
            </li>

            <li>
                <span>
                    <button onclick=operandInput(1)>1</button>
                    <button onclick=operandInput(2)>2</button>
                    <button onclick=operandInput(3)>3</button>
                </span>
            </li>

            <li>
                <span>
                    <button onclick=operandInput(0) style=width:120px;>0</button>
                    <button onclick='operandInput(".")'>.</button>
                </span>
            </li>
        </ul>

        <ul style=list-style-type:none;>
            <li><button onclick='operands.length > 0 ? values.push(operands.join(""), `/`) : values.push(`/`); 
                    multiplication(); division(); operands=[];' style=background-color:coral;>/</button>
            </li>
            <li><button onclick='operands.length > 0 ? values.push(operands.join(""), `*`) : values.push(`*`); 
                    multiplication(); operands=[];' style=background-color:coral;>x</button></li>
            <li><button onclick='operands.length > 0 ? values.push(operands.join(""), `-`) : values.push(`-`); 
                    multiplication(); division(); addition(); subtraction(); operands=[];'
                    style=background-color:coral;>-</button></li>
            <li><button onclick='operands.length > 0 ? values.push(operands.join(""), `+`) : values.push(`+`); 
                    multiplication(); division(); addition(); operands=[];' style=background-color:coral;>+</button>
            </li>
            <li><button onclick='operands.length > 0 ? values.push(operands.join("")) : undefined; 
            multiplication(); division(); addition(); subtraction(); operands=[];'
                    style=background-color:coral;>=</button></li>
        </ul>

    </div>

</body>

</html>